"use strict";(self.webpackChunkkonva_site_2=self.webpackChunkkonva_site_2||[]).push([[5826],{33470:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"docs/react/Canvas_Portal","title":"\u5982\u4f55\u5728 react-konva \u4e2d\u4f7f\u7528 portals\uff1f","description":"react-konva \u5982\u4f55\u63a7\u5236 zIndex\uff1f","source":"@site/content/docs/react/Canvas_Portal.mdx","sourceDirName":"docs/react","slug":"/docs/react/Canvas_Portal.html","permalink":"/docs/react/Canvas_Portal.html","draft":false,"unlisted":false,"editUrl":"https://github.com/zhcndoc/konva/tree/main/content/docs/react/Canvas_Portal.mdx","tags":[],"version":"current","frontMatter":{"title":"\u5982\u4f55\u5728 react-konva \u4e2d\u4f7f\u7528 portals\uff1f","sidebar_label":"\u753b\u5e03\u95e8\u6237","hide_table_of_contents":true,"slug":"Canvas_Portal.html"},"sidebar":"tutorialsSidebar","previous":{"title":"\u753b\u5e03\u5bfc\u51fa","permalink":"/docs/react/Canvas_Export.html"},"next":{"title":"\u590d\u6742\u52a8\u753b","permalink":"/docs/react/Complex_Animations.html"}}');var r=t(74848),o=t(28453);const s={title:"\u5982\u4f55\u5728 react-konva \u4e2d\u4f7f\u7528 portals\uff1f",sidebar_label:"\u753b\u5e03\u95e8\u6237",hide_table_of_contents:!0,slug:"Canvas_Portal.html"},c=void 0,i={},l=[{value:"react-konva \u5982\u4f55\u63a7\u5236 zIndex\uff1f",id:"react-konva-\u5982\u4f55\u63a7\u5236-zindex",level:2},{value:"\u662f\u5426\u53ef\u4ee5\u4f7f\u7528 <code>react-konva</code> \u5c06\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\uff1f",id:"\u662f\u5426\u53ef\u4ee5\u4f7f\u7528-react-konva-\u5c06\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"react-konva-\u5982\u4f55\u63a7\u5236-zindex",children:"react-konva \u5982\u4f55\u63a7\u5236 zIndex\uff1f"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"react-konva"})," \u4e25\u683c\u9075\u5faa\u60a8\u5728\u6e32\u67d3\u4e2d\u5b9a\u4e49\u5143\u7d20\u7684\u987a\u5e8f\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u67e5\u770b ",(0,r.jsx)(n.a,{href:"/docs/react/zIndex.html",children:"zIndex \u6f14\u793a"}),"\u3002"]}),"\n",(0,r.jsxs)(n.h2,{id:"\u662f\u5426\u53ef\u4ee5\u4f7f\u7528-react-konva-\u5c06\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668",children:["\u662f\u5426\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"react-konva"})," \u5c06\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\uff1f"]}),"\n",(0,r.jsxs)(n.p,{children:["\u76ee\u524d ",(0,r.jsx)(n.code,{children:"react-konva"})," \u4e0d\u652f\u6301 ",(0,r.jsx)(n.code,{children:"React.createPortal"})," API\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6765\u81ea ",(0,r.jsx)(n.a,{href:"https://github.com/konvajs/react-konva-utils",children:"react-konva-utils \u5305"})," \u7684 ",(0,r.jsx)(n.code,{children:"<Portal />"})," \u7ec4\u4ef6\u3002"]}),"\n",(0,r.jsx)(n.p,{children:"\u8fd9\u79cd\u95e8\u6237\u5728\u60a8\u60f3\u8981\u4e34\u65f6\u5c06\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u65f6\u975e\u5e38\u6709\u7528\u3002\u5e38\u89c1\u7684\u7528\u4f8b\u5305\u62ec\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\u5c06\u62d6\u52a8\u7684\u5f62\u72b6\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u56fe\u5c42\u4ee5\u63d0\u9ad8\u6027\u80fd"}),"\n",(0,r.jsx)(n.li,{children:"\u5728\u5176\u4ed6\u5143\u7d20\u4e4b\u4e0a\u663e\u793a\u4e00\u4e2a\u5143\u7d20\uff0c\u4f46\u4ecd\u7136\u5c06\u5176\u4fdd\u7559\u5728\u7ec4\u4ef6\u6811\u7684\u8f83\u6df1\u5904"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u8bf4\u660e\uff1a\u5c1d\u8bd5\u62d6\u52a8\u4e00\u4e2a\u77e9\u5f62\u3002\u60a8\u4f1a\u770b\u5230\u5b83\u5728\u9876\u90e8\u53ef\u89c1\uff0c\u4f46\u5728\u6e32\u67d3\u65f6\u5b83\u4ecd\u7136\u662f\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",metastring:"live react",live:!0,children:'import React from \'react\';\nimport { Stage, Layer, Rect, Text, Circle, Line } from \'react-konva\';\nimport { Portal } from \'react-konva-utils\';\n\nconst App = () => {\n  const [isDragging, setDragging] = React.useState(false);\n\n  return (\n    <Stage width={window.innerWidth} height={window.innerHeight}>\n      <Layer>\n        <Text\n          text="\u5c1d\u8bd5\u62d6\u52a8\u77e9\u5f62\u3002\u5b83\u5728\u62d6\u52a8\u65f6\u5e94\u8be5\u4f4d\u4e8e\u9876\u90e8\u3002"\n          fontSize={15}\n        />\n        <Portal selector=".top-layer" enabled={isDragging}>\n          <Rect\n            x={20}\n            y={50}\n            width={150}\n            height={150}\n            fill="red"\n            draggable={true}\n            onDragStart={() => {\n              setDragging(true);\n            }}\n            onDragEnd={() => {\n              setDragging(false);\n            }}\n          />\n        </Portal>\n        <Circle x={200} y={100} radius={50} fill="green" />\n        <Line\n          x={20}\n          y={200}\n          points={[0, 0, 100, 0, 100, 100]}\n          tension={0.5}\n          closed\n          stroke="black"\n          fillLinearGradientStartPoint={{ x: -50, y: -50 }}\n          fillLinearGradientEndPoint={{ x: 50, y: 50 }}\n          fillLinearGradientColorStops={[0, \'red\', 1, \'yellow\']}\n          draggable\n        />\n      </Layer>\n      <Layer name="top-layer" />\n    </Stage>\n  );\n};\n\nexport default App;\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var a=t(96540);const r={},o=a.createContext(r);function s(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);