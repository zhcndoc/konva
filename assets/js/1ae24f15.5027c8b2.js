"use strict";(self.webpackChunkkonva_site_2=self.webpackChunkkonva_site_2||[]).push([[6276],{53514:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"docs/vue/Cache","title":"\u5982\u4f55\u5728 Vue \u4e2d\u7f13\u5b58\u753b\u5e03\u5f62\u72b6\uff1f","description":"\u5982\u679c\u4f60\u60f3\u5728 Vue \u5e94\u7528\u4e2d\u7f13\u5b58\u4e00\u4e2a\u8282\u70b9\uff0c\u4f60\u9700\u8981\u8bbf\u95ee Konva \u8282\u70b9\u5e76\u4f7f\u7528 node.cache() \u51fd\u6570\u3002","source":"@site/content/docs/vue/Cache.mdx","sourceDirName":"docs/vue","slug":"/docs/vue/Cache.html","permalink":"/docs/vue/Cache.html","draft":false,"unlisted":false,"editUrl":"https://github.com/zhcndoc/konva/tree/main/content/docs/vue/Cache.mdx","tags":[],"version":"current","frontMatter":{"title":"\u5982\u4f55\u5728 Vue \u4e2d\u7f13\u5b58\u753b\u5e03\u5f62\u72b6\uff1f","sidebar_label":"\u7f13\u5b58","hide_table_of_contents":true,"slug":"Cache.html"},"sidebar":"tutorialsSidebar","previous":{"title":"\u5f00\u59cb\u4f7f\u7528","permalink":"/docs/vue/index.html"},"next":{"title":"\u81ea\u5b9a\u4e49\u5f62\u72b6","permalink":"/docs/vue/Custom_Shape.html"}}');var a=t(74848),s=t(28453);const i={title:"\u5982\u4f55\u5728 Vue \u4e2d\u7f13\u5b58\u753b\u5e03\u5f62\u72b6\uff1f",sidebar_label:"\u7f13\u5b58",hide_table_of_contents:!0,slug:"Cache.html"},c=void 0,r={},d=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u60f3\u5728 Vue \u5e94\u7528\u4e2d\u7f13\u5b58\u4e00\u4e2a\u8282\u70b9\uff0c\u4f60\u9700\u8981\u8bbf\u95ee Konva \u8282\u70b9\u5e76\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"node.cache()"})," \u51fd\u6570\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u8981\u8bbf\u95ee\u8282\u70b9\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5f15\u7528\u548c ",(0,a.jsx)(n.code,{children:"component.getNode()"})," \u65b9\u6cd5\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'// \u5728\u6a21\u677f\u4e2d\uff1a\n<v-group ref="group">\n// \u5728\u4ee3\u7801\u4e2d\u7a0d\u540e\uff1a\nthis.$refs.group.getNode().cache();\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u8bf4\u660e\uff1a\u5c1d\u8bd5\u62d6\u52a8\u6574\u4e2a\u821e\u53f0\u3002\u7136\u540e\u542f\u7528\u7f13\u5b58\u5e76\u518d\u6b21\u5c1d\u8bd5\u3002\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u542f\u7528\u7f13\u5b58\u540e\u6027\u80fd\u5927\u5e45\u63d0\u5347\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:"live vue",live:!0,children:'<template>\n  <div>\n    <v-stage ref="stage" :config="stageConfig">\n      <v-layer ref="layer">\n        <v-group ref="group">\n          <v-star\n            v-for="item in list"\n            :key="item.id"\n            :config="{\n              x: item.x,\n              y: item.y,\n              rotation: item.rotation,\n              id: item.id,\n              numPoints: 5,\n              innerRadius: 30,\n              outerRadius: 50,\n              fill: \'#89b717\',\n              opacity: 0.8,\n              shadowColor: \'black\',\n              shadowBlur: 10,\n              shadowOpacity: 0.6,\n              scaleX: item.scale,\n              scaleY: item.scale,\n            }"\n          />\n        </v-group>\n      </v-layer>\n    </v-stage>\n    <div class="cache">\n      <input type="checkbox" @change="handleCacheChange"> \u7f13\u5b58\u5f62\u72b6\n    </div>\n  </div>\n</template>\n\n<script>\nconst width = window.innerWidth;\nconst height = window.innerHeight;\n\nexport default {\n  data() {\n    return {\n      list: [],\n      dragItemId: null,\n      stageConfig: {\n        width: width,\n        height: height,\n        draggable: true\n      }\n    };\n  },\n  methods: {\n    handleCacheChange(e) {\n      const shouldCache = e.target.checked;\n      if (shouldCache) {\n        this.$refs.group.getNode().cache();\n      } else {\n        this.$refs.group.getNode().clearCache();\n      }\n    }\n  },\n  mounted() {\n    // \u751f\u6210 300 \u4e2a\u968f\u673a\u661f\u5f62\n    for (let n = 0; n < 1000; n++) {\n      this.list.push({\n        id: Math.round(Math.random() * 10000).toString(),\n        x: Math.random() * width,\n        y: Math.random() * height,\n        rotation: Math.random() * 180,\n        scale: Math.random()\n      });\n    }\n  }\n};\n<\/script>\n\n<style>\n.cache {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n</style>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(96540);const a={},s=o.createContext(a);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);