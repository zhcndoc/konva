"use strict";(self.webpackChunkkonva_site_2=self.webpackChunkkonva_site_2||[]).push([[7337],{64223:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"docs/angular/zIndex","title":"Angular Konva Z-Index \u6559\u7a0b","description":"\u8981\u5728 Angular \u4e2d\u4f7f\u7528 Konva \u63a7\u5236\u5f62\u72b6\u7684\u5c42\u53e0\u987a\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528 ng2-konva\u3002","source":"@site/content/docs/angular/zIndex.mdx","sourceDirName":"docs/angular","slug":"/docs/angular/zIndex.html","permalink":"/docs/angular/zIndex.html","draft":false,"unlisted":false,"editUrl":"https://github.com/zhcndoc/konva/tree/main/content/docs/angular/zIndex.mdx","tags":[],"version":"current","frontMatter":{"title":"Angular Konva Z-Index \u6559\u7a0b","sidebar_label":"Z-Index","hide_table_of_contents":true,"slug":"zIndex.html"},"sidebar":"tutorialsSidebar","previous":{"title":"\u64a4\u9500\u91cd\u505a","permalink":"/docs/angular/Undo-Redo.html"},"next":{"title":"\u5f00\u59cb\u4f7f\u7528","permalink":"/docs/svelte/index.html"}}');var o=t(74848),r=t(28453);const a={title:"Angular Konva Z-Index \u6559\u7a0b",sidebar_label:"Z-Index",hide_table_of_contents:!0,slug:"zIndex.html"},s=void 0,l={},d=[];function c(n){const e={code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["\u8981\u5728 Angular \u4e2d\u4f7f\u7528 ",(0,o.jsx)(e.code,{children:"Konva"})," \u63a7\u5236\u5f62\u72b6\u7684\u5c42\u53e0\u987a\u5e8f\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(e.code,{children:"ng2-konva"}),"\u3002"]}),"\n",(0,o.jsx)(e.p,{children:"\u8fd9\u4e2a\u6f14\u793a\u5c55\u793a\u4e86\u5982\u4f55\uff1a"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"\u521b\u5efa\u4e00\u7ec4\u968f\u673a\u4f4d\u7f6e\u548c\u989c\u8272\u7684\u5706\u5f62"}),"\n",(0,o.jsx)(e.li,{children:"\u5904\u7406\u62d6\u62fd\u4e8b\u4ef6\u4ee5\u66f4\u65b0\u5f62\u72b6\u7684\u89c6\u89c9\u987a\u5e8f"}),"\n",(0,o.jsx)(e.li,{children:"\u901a\u8fc7\u64cd\u4f5c\u6570\u7ec4\u987a\u5e8f\u4fdd\u6301\u6b63\u786e\u7684\u5806\u53e0\u987a\u5e8f"}),"\n",(0,o.jsx)(e.li,{children:"\u9075\u5faa Angular \u7684\u53d8\u66f4\u68c0\u6d4b\u673a\u5236\u8fdb\u884c\u72b6\u6001\u7ba1\u7406"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"\u64cd\u4f5c\u8bf4\u660e"}),"\uff1a\u5c1d\u8bd5\u62d6\u62fd\u4e00\u4e2a\u5706\u5f62\u3002\u5f00\u59cb\u62d6\u62fd\u65f6\uff0c\u8be5\u5706\u5f62\u4f1a\u81ea\u52a8\u79fb\u52a8\u5230\u9876\u5c42\u3002\u8fd9\u662f\u901a\u8fc7\u64cd\u4f5c\u6570\u636e\u4e2d\u7684\u5706\u5f62\u6570\u7ec4\u5b9e\u73b0\u7684\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u66f4\u6539 zIndex\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",metastring:"live angular",live:!0,children:"import { Component, OnInit } from '@angular/core';\nimport { StageConfig } from 'konva/lib/Stage';\nimport { CircleConfig } from 'konva/lib/shapes/Circle';\n\nimport {\n  CoreShapeComponent,\n  StageComponent,\n} from 'ng2-konva';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <ko-stage [config]=\"configStage\">\n      <ko-layer>\n        @for (item of items; track trackById($index, item)) {\n          <ko-circle\n            [config]=\"item\"\n            (dragstart)=\"handleDragstart($event.event)\"\n            (dragend)=\"handleDragend()\"\n          ></ko-circle>\n        }\n      </ko-layer>\n    </ko-stage>\n  `,\n  imports: [StageComponent, CoreShapeComponent],\n})\nexport default class App implements OnInit {\n  public configStage: StageConfig = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n  };\n  \n  public items: CircleConfig[] = [];\n  private dragItemId: string | null = null;\n\n  ngOnInit() {\n    this.generateItems();\n  }\n\n  private generateItems(): void {\n    const newItems: CircleConfig[] = [];\n    for (let i = 0; i < 10; i++) {\n      newItems.push({\n        x: Math.random() * this.configStage.width!,\n        y: Math.random() * this.configStage.height!,\n        radius: 50,\n        id: \"node-\" + i,\n        fill: this.getRandomColor(),\n        draggable: true\n      });\n    }\n    this.items = newItems;\n  }\n\n  private getRandomColor(): string {\n    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E9'];\n    return colors[Math.floor(Math.random() * colors.length)];\n  }\n\n  public handleDragstart(event: any): void {\n    // \u4fdd\u5b58\u6b63\u5728\u62d6\u62fd\u7684\u5143\u7d20\uff1a\n    this.dragItemId = event.target.id();\n    // \u901a\u8fc7\u91cd\u65b0\u6392\u5217 items \u6570\u7ec4\uff0c\u5c06\u5f53\u524d\u5143\u7d20\u79fb\u5230\u6700\u4e0a\u5c42\uff1a\n    const item = this.items.find(i => i.id === this.dragItemId);\n    if (item) {\n      const index = this.items.indexOf(item);\n      this.items.splice(index, 1);\n      this.items.push(item);\n    }\n  }\n\n  public handleDragend(): void {\n    this.dragItemId = null;\n  }\n\n  public trackById(index: number, item: CircleConfig): string {\n    return item.id as string;\n  }\n}\n"})})]})}function g(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>s});var i=t(96540);const o={},r=i.createContext(o);function a(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);