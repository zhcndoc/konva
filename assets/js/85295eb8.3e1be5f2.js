"use strict";(self.webpackChunkkonva_site_2=self.webpackChunkkonva_site_2||[]).push([[105],{47434:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docs/react/zIndex","title":"\u5982\u4f55\u5728 React \u4e2d\u66f4\u6539\u8282\u70b9\u7684 zIndex\uff1f","description":"\u5982\u4f55\u5728 react-konva \u4e2d\u66f4\u6539 zIndex \u548c\u91cd\u65b0\u6392\u5217\u7ec4\u4ef6\uff1f","source":"@site/content/docs/react/zIndex.mdx","sourceDirName":"docs/react","slug":"/docs/react/zIndex.html","permalink":"/docs/react/zIndex.html","draft":false,"unlisted":false,"editUrl":"https://github.com/zhcndoc/konva/tree/main/content/docs/react/zIndex.mdx","tags":[],"version":"current","frontMatter":{"title":"\u5982\u4f55\u5728 React \u4e2d\u66f4\u6539\u8282\u70b9\u7684 zIndex\uff1f","sidebar_label":"zIndex","hide_table_of_contents":true,"slug":"zIndex.html"},"sidebar":"tutorialsSidebar","previous":{"title":"\u64a4\u9500/\u91cd\u505a","permalink":"/docs/react/Undo-Redo.html"},"next":{"title":"\u5f00\u59cb\u4f7f\u7528","permalink":"/docs/vue/index.html"}}');var o=t(74848),r=t(28453);const s={title:"\u5982\u4f55\u5728 React \u4e2d\u66f4\u6539\u8282\u70b9\u7684 zIndex\uff1f",sidebar_label:"zIndex",hide_table_of_contents:!0,slug:"zIndex.html"},a=void 0,d={},c=[{value:"\u5982\u4f55\u5728 <code>react-konva</code> \u4e2d\u66f4\u6539 zIndex \u548c\u91cd\u65b0\u6392\u5217\u7ec4\u4ef6\uff1f",id:"\u5982\u4f55\u5728-react-konva-\u4e2d\u66f4\u6539-zindex-\u548c\u91cd\u65b0\u6392\u5217\u7ec4\u4ef6",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.h2,{id:"\u5982\u4f55\u5728-react-konva-\u4e2d\u66f4\u6539-zindex-\u548c\u91cd\u65b0\u6392\u5217\u7ec4\u4ef6",children:["\u5982\u4f55\u5728 ",(0,o.jsx)(n.code,{children:"react-konva"})," \u4e2d\u66f4\u6539 zIndex \u548c\u91cd\u65b0\u6392\u5217\u7ec4\u4ef6\uff1f"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u4f60\u76f4\u63a5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"Konva"})," \u65f6\uff0c\u6709\u5f88\u591a\u65b9\u6cd5\u53ef\u4ee5\u66f4\u6539\u8282\u70b9\u7684\u987a\u5e8f\uff0c\u4f8b\u5982 ",(0,o.jsx)(n.code,{children:"node.zIndex(5)"}),"\u3001",(0,o.jsx)(n.code,{children:"node.moveToTop()"})," \u7b49\u7b49\u3002",(0,o.jsx)(n.a,{href:"/docs/groups_and_layers/Layering.html",children:"\u6559\u7a0b"}),"\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u662f\uff0c\u5f53\u4f60\u4f7f\u7528 React \u6846\u67b6\u65f6\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u3002"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"react-konva"})," \u4e25\u683c\u6309\u7167\u4f60\u5728\u7ec4\u4ef6\u4e2d\u63cf\u8ff0\u7684\u8282\u70b9\u987a\u5e8f\u3002\u56e0\u6b64\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u66f4\u6539 zIndex\uff0c\u53ea\u9700\u6b63\u786e\u66f4\u65b0\u5e94\u7528\u7a0b\u5e8f\u7684\u72b6\u6001\u5373\u53ef\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u8981\u5728\u4f60\u7684\u753b\u5e03\u7ec4\u4ef6\u4e2d\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"zIndex"}),"\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u60f3\u6682\u65f6\u5c06\u4e00\u4e2a\u8282\u70b9\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5bb9\u5668\u4e2d\uff0c\u4f8b\u5982\u5728\u4f60\u60f3\u663e\u793a\u4e00\u4e2a\u8986\u76d6\u5c42\u65f6\uff0c\u53ef\u4ee5\u67e5\u770b ",(0,o.jsx)(n.a,{href:"/docs/react/Canvas_Portal.html",children:"Canvas Portal demo"}),"\u3002"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"\u8bf4\u660e\uff1a\u8bd5\u7740\u62d6\u52a8\u4e00\u4e2a\u5706\u5708\u3002\u770b\u770b\u5b83\u662f\u5982\u4f55\u79fb\u52a8\u5230\u6700\u4e0a\u9762\u7684\u3002\u6211\u4eec\u901a\u8fc7\u64cd\u63a7\u72b6\u6001\u6765\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u4ee5\u4fbf\u7ec4\u4ef6\u6e32\u67d3\u8fd4\u56de\u6b63\u786e\u7684\u987a\u5e8f\u3002"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:"live react",live:!0,children:"import React, { Component } from 'react';\nimport Konva from 'konva';\nimport { Stage, Layer, Circle } from 'react-konva';\n\nfunction generateItems() {\n  const items = [];\n  for (let i = 0; i < 10; i++) {\n    items.push({\n      x: Math.random() * window.innerWidth,\n      y: Math.random() * window.innerHeight,\n      id: 'node-' + i,\n      color: Konva.Util.getRandomColor(),\n    });\n  }\n  return items;\n}\n\nconst App = () => {\n  const [items, setItems] = React.useState(generateItems());\n\n  const handleDragStart = (e) => {\n    const id = e.target.name();\n    const itemsCopy = items.slice();\n    const item = itemsCopy.find((i) => i.id === id);\n    const index = itemsCopy.indexOf(item);\n    // \u4ece\u5217\u8868\u4e2d\u79fb\u9664:\n    itemsCopy.splice(index, 1);\n    // \u6dfb\u52a0\u5230\u9876\u90e8\n    itemsCopy.push(item);\n    setItems(itemsCopy);\n  };\n\n  const onDragEnd = (e) => {\n    const id = e.target.name();\n    const itemsCopy = items.slice();\n    const item = items.find((i) => i.id === id);\n    const index = items.indexOf(item);\n    // \u66f4\u65b0\u9879\u7684\u4f4d\u7f6e\n    itemsCopy[index] = {\n      ...item,\n      x: e.target.x(),\n      y: e.target.y(),\n    };\n    setItems(itemsCopy);\n  };\n\n  return (\n    <Stage width={window.innerWidth} height={window.innerHeight}>\n      <Layer>\n        {items.map((item) => (\n          <Circle\n            key={item.id}\n            name={item.id}\n            draggable\n            x={item.x}\n            y={item.y}\n            fill={item.color}\n            radius={50}\n            onDragStart={handleDragStart}\n            onDragEnd={onDragEnd}\n          />\n        ))}\n      </Layer>\n    </Stage>\n  );\n};\n\nexport default App;\n"})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);