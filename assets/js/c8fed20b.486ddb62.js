"use strict";(self.webpackChunkkonva_site_2=self.webpackChunkkonva_site_2||[]).push([[1385],{64884:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>g,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"docs/react/Drag_And_Drop","title":"\u62d6\u653e\u753b\u5e03\u5f62\u72b6","description":"\u8981\u542f\u7528\u753b\u5e03\u4e0a\u4efb\u4f55\u8282\u70b9\u7684\u62d6\u653e\u529f\u80fd\uff0c\u60a8\u53ea\u9700\u5c06 draggable \u5c5e\u6027\u4f20\u9012\u7ed9\u7ec4\u4ef6\u3002","source":"@site/content/docs/react/Drag_And_Drop.mdx","sourceDirName":"docs/react","slug":"/docs/react/Drag_And_Drop.html","permalink":"/docs/react/Drag_And_Drop.html","draft":false,"unlisted":false,"editUrl":"https://github.com/zhcndoc/konva/tree/main/content/docs/react/Drag_And_Drop.mdx","tags":[],"version":"current","frontMatter":{"title":"\u62d6\u653e\u753b\u5e03\u5f62\u72b6","sidebar_label":"\u62d6\u653e","hide_table_of_contents":true,"slug":"Drag_And_Drop.html"},"sidebar":"tutorialsSidebar","previous":{"title":"DOM \u95e8\u6237","permalink":"/docs/react/DOM_Portal.html"},"next":{"title":"\u62d6\u653e\u56fe\u50cf","permalink":"/docs/react/Drop_Image.html"}}');var o=t(74848),a=t(28453);const s={title:"\u62d6\u653e\u753b\u5e03\u5f62\u72b6",sidebar_label:"\u62d6\u653e",hide_table_of_contents:!0,slug:"Drag_And_Drop.html"},i=void 0,c={},d=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["\u8981\u542f\u7528\u753b\u5e03\u4e0a\u4efb\u4f55\u8282\u70b9\u7684\u62d6\u653e\u529f\u80fd\uff0c\u60a8\u53ea\u9700\u5c06 ",(0,o.jsx)(n.code,{children:"draggable"})," \u5c5e\u6027\u4f20\u9012\u7ed9\u7ec4\u4ef6\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u60a8\u62d6\u653e\u4e00\u4e2a\u5f62\u72b6\u65f6\uff0c\u5efa\u8bae\u5c06\u5176\u4f4d\u7f6e\u4fdd\u5b58\u5230\u60a8\u7684\u5e94\u7528\u5546\u5e97\u4e2d\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"onDragMove"})," \u548c ",(0,o.jsx)(n.code,{children:"onDragEnd"})," \u4e8b\u4ef6\u6765\u5b9e\u73b0\u8fd9\u4e00\u76ee\u7684\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",metastring:"live react",live:!0,children:"import React from 'react';\nimport { Stage, Layer, Text } from 'react-konva';\n\nconst App = () => {\n  const [isDragging, setIsDragging] = React.useState(false);\n  const [position, setPosition] = React.useState({\n    x: 50,\n    y: 50,\n  });\n\n  return (\n    <Stage width={window.innerWidth} height={window.innerHeight}>\n      <Layer>\n        <Text\n          text=\"\u53ef\u62d6\u52a8\u6587\u672c\"\n          x={position.x}\n          y={position.y}\n          draggable\n          fill={isDragging ? 'green' : 'black'}\n          onDragStart={() => {\n            setIsDragging(true);\n          }}\n          onDragEnd={(e) => {\n            setIsDragging(false);\n            setPosition({\n              x: e.target.x(),\n              y: e.target.y(),\n            });\n          }}\n        />\n      </Layer>\n    </Stage>\n  );\n};\n\nexport default App;\n"})})]})}function g(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const o={},a=r.createContext(o);function s(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);